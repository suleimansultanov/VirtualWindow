const HttpRequestsService=function(){const n=function(n,t,i,r){$.ajax({url:n,contentType:"application/json",type:"POST",data:JSON.stringify(t)}).done(i).fail(r)},t=function(n,t,i,r){$.ajax({url:n,contentType:"application/json",type:"PUT",data:JSON.stringify(t)}).done(i).fail(r)},i=function(n,t,i,r){$.ajax({url:n,contentType:"application/json",type:"PATCH",data:JSON.stringify(t)}).done(i).fail(r)},r=function(n,t,i){$.ajax(n,{type:"DELETE"}).done(t).fail(i)},u=function(n,t,i){$.ajax(n,{type:"GET"}).done(t).fail(i)};return{performPutRequest:t,performPatchRequest:i,performDeleteRequest:r,performPostRequest:n,performGetRequest:u}}();var LabeledGoodService=function(){var n=function(n,t,i,r){$.ajax("/api/labeledGoods/putInOrTakeFromPlant",{data:JSON.stringify({plantId:n,I:[t]}),contentType:"application/json",type:"POST"}).done(i).fail(r)},t=function(n,t,i,r){$.ajax("/api/labeledGoods/putInOrTakeFromPlant",{data:JSON.stringify({plantId:n,O:[t]}),contentType:"application/json",type:"POST"}).done(i).fail(r)},i=function(n,t,i){$.ajax("/api/labeledGoods/"+n,{type:"DELETE"}).done(t).fail(i)};return{putLabeledGood:n,takeLabeledGood:t,deleteLabeledGood:i}}(),LabeledGoodsController=function(n){var t,i,e=function(n){$(n).on("click",".js-putLabeledGood",o);$(n).on("click",".js-takeLabeledGood",s);$(n).on("click",".js-deleteLabeledGood",h)},o=function(i){t=$(i.target);var f=t.attr("data-plantId"),e=t.attr("data-label");n.putLabeledGood(f,e,u,r)},s=function(i){t=$(i.target);var f=t.attr("data-plantId"),e=t.attr("data-label");n.takeLabeledGood(f,e,u,r)},u=function(){f(t)},r=function(){bootstrapAlert("Labeled Good","Something failed!")},h=function(t){i=$(t.target);var u=i.attr("data-labeledGoodId");n.deleteLabeledGood(u,c,r)},c=function(){f(i)},f=function(n){n.parent().closest("tr").fadeOut("slow",function(){$(this).remove()})};return{init:e}}(LabeledGoodService),PlantService=function(n){var t=function(t,i,r){n.performDeleteRequest("/api/plants/"+t,i,r)},i=function(t,i,r){n.performDeleteRequest("/api/plants/"+t+"/doors",i,r)},r=function(t,i,r){n.performPostRequest("/api/labeledGoods/plant/"+t+"/content",null,i,r)},u=function(t,i,r,u){n.performPostRequest("/api/plants/"+t+"/rightDoor",i,r,u)},f=function(t,i,r,u){n.performPostRequest("/api/plants/"+t+"/leftDoor",i,r,u)};return{deletePlant:t,openRightDoor:u,openLeftDoor:f,closeDoors:i,sendPlantContentRequest:r}}(HttpRequestsService),PlantsController=function(n){var r={mode:2},u=function(n){$(n).on("click",".js-deletePlant",e);$(n).on("click",".js-closeDoors",c);$(n).on("click",".js-sendPlantContentRequest",o);$(n).on("click",".js-openLeftDoor",s);$(n).on("click",".js-openRightDoor",h)},f=function(){window.location.href="/"},i=function(){toastr.success("Операция прошла успешно.")},t=function(){toastr.error("Упссс! Произошла ошибка.")},e=function(i){swal({title:"Внимание!",text:"Вы действительно хотите удалить данный объект?",showCancelButton:!0,confirmButtonColor:"#1ab394",confirmButtonText:"Подтвердить",cancelButtonText:"Отменить",closeOnConfirm:!0},function(){var r=$(i.target).attr("data-posId");n.deletePlant(r,f,t)})},o=function(r){var u=$(r.target).attr("data-posId");n.sendPlantContentRequest(u,i,t)},s=function(u){var f=$(u.target).attr("data-posId");n.openLeftDoor(f,r,i,t)},h=function(u){var f=$(u.target).attr("data-posId");n.openRightDoor(f,r,i,t)},c=function(r){var u=$(r.target).attr("data-posId");n.closeDoors(u,i,t)};return{init:u}}(PlantService),GoodService=function(){var n=function(n,t,i){$.ajax("/api/goods/"+n,{type:"DELETE"}).done(t).fail(i)};return{deleteGood:n}}(),GoodsController=function(n){var t,i=function(){t.parent().closest("tr").fadeOut("slow",function(){$(this).remove()});toastr.success("Операция прошла успешно.")},r=function(){toastr.error("Упссс! Произошла ошибка.")},u=function(u){bootstrapConfirmDelete("Внимание","Вы действительно хотите удалить этот товар?",function(){t=$(u.target);var f=t.attr("data-goodId");n.deleteGood(f,i,r)})},f=function(n){$(n).on("click",".js-delete-good",u)};return{init:f}}(GoodService),GoodImageService=function(){var n=function(n,t,i){$.ajax("/api/goodImages/"+n,{type:"DELETE"}).done(t).fail(i)},t=function(n,t,i){$.ajax("/api/plantImages/"+n,{type:"DELETE"}).done(t).fail(i)};return{deleteGoodImage:n,deletePlantImage:t}}(),GoodImagesController=function(n){var t,u=function(n){$(n).on("click",".js-delete-goodImage",f);$(n).on("click",".js-delete-plantImage",e)},f=function(u){bootstrapConfirmDelete("Внимание","Вы действительно хотите удалить данное изображение?",function(){t=$(u.target);var f=t.attr("data-goodImageId");n.deleteGoodImage(f,i,r)})},e=function(u){bootstrapConfirmDelete("Внимание","Вы действительно хотите удалить данное изображение?",function(){t=$(u.target);var f=t.attr("data-goodImageId");n.deletePlantImage(f,i,r)})},i=function(){t.parent().closest("tr").fadeOut("slow",function(){$(this).remove()});toastr.success("Операция прошла успешно.")},r=function(){toastr.error("Упссс! Произошла ошибка.")};return{init:u}}(GoodImageService);const ANDROID="Android",WINDOWS_PHONE="Windows Phone",IOS="iOS",UNKNOWN="Unknown";var MobileOperatingSystemDetector=function(){var n=function(){var n=navigator.userAgent||navigator.vendor||window.opera;return/windows phone/i.test(n)?WINDOWS_PHONE:/android/i.test(n)?ANDROID:/iPad|iPhone|iPod/.test(n)&&!window.MSStream?IOS:UNKNOWN};return{detect:n}}(),MobileAppsStoreRedirectionController=function(n){var i=function(){var t=n.detect();r(t)},r=function(n){switch(n){case ANDROID:t("https://play.google.com/store/apps/details?id=net.timelysoft.nasladdin");break;case IOS:t("https://itunes.apple.com/app/id1247762108");break;default:bootstrapAlert("Mobile Operating System Detector","Operating system is not detected")}},t=function(n){window.location.href=n};return{initialize:i}}(MobileOperatingSystemDetector),UserBalanceService=function(){var n=function(n,t,i){$.ajax("/api/users/"+n+"/purchases/unfinished",{type:"DELETE"}).done(t).fail(i)};return{resetUserBalance:n}}(),RefundService=function(n){var t=function(t,i,r,u){n.performPatchRequest("/api/purchases/"+t+"/bankTransactionInfos/"+i+"/refund",null,r,u)};return{refundUserOperation:t}}(HttpRequestsService),ShoppingStatisticsController=function(n,t){var u=function(n){$(n).on("click",".js-resetUserBalance",f);$(n).on("click",".js-refundUserOperation",e)},f=function(t){var u=$(t.target),f=u.attr("data-userId");n.resetUserBalance(f,i,r)},e=function(n){var u=$(n.target),f=u.attr("data-userShopTransactionId"),e=u.attr("data-bankTransactionInfoId");t.refundUserOperation(f,e,i,r)},i=function(){location.reload()},r=function(){console.log(":(")};return{initialize:u}}(UserBalanceService,RefundService);